<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="ramnog">
<title>Statistical Methods • ramnog</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Statistical Methods">
<meta property="og:description" content="ramnog">
<meta property="og:image" content="https://hta-pharma.github.io/ramnog/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary" data-bs-theme="dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">ramnog</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/ramnog.html">Quick Start</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Overview</h6>
    <a class="dropdown-item" href="../articles/ep_overview.html">Endpoint specification</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Population and outcome</h6>
    <a class="dropdown-item" href="../articles/ep_spec_adam_data.html">ADaM Data</a>
    <a class="dropdown-item" href="../articles/ep_spec_treatment_arms.html">Treatment Arms</a>
    <a class="dropdown-item" href="../articles/ep_spec_population_def.html">Analysis Population</a>
    <a class="dropdown-item" href="../articles/ep_spec_event_def.html">Endpoint Events</a>
    <a class="dropdown-item" href="../articles/ep_spec_strata_def.html">Strata</a>
    <a class="dropdown-item" href="../articles/ep_spec_label.html">Endpoint Label</a>
    <a class="dropdown-item" href="../articles/ep_spec_strata_w_events.html">Processing of Strata without Events</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Methods</h6>
    <a class="dropdown-item" href="../articles/methods_criteria.html">Criteria Methods</a>
    <a class="dropdown-item" href="../articles/methods_stat.html">Statistical Methods</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Output Data Model</h6>
    <a class="dropdown-item" href="../articles/results_datamodel.html">Result Data Model</a>
    <a class="dropdown-item" href="../articles/results_datamodel2tfl.html">Mapping Results to TFLs</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Examples</h6>
    <a class="dropdown-item" href="../articles/example_ep_spec.html">Endpoint Catalog</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Debugging</h6>
    <a class="dropdown-item" href="../articles/debugging.html">Debugging</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-contributing">Contributing</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-contributing">
    <a class="dropdown-item" href="../articles/dev_contribute.html">Contributing overview</a>
    <a class="dropdown-item" href="../articles/dev_devops.html">DevOps</a>
    <a class="dropdown-item" href="../articles/qc.html">Quality control</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/hta-pharma/ramnog/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="methods_stat_files/kePrint-0.0.1/kePrint.js"></script><link href="methods_stat_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Statistical Methods</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/hta-pharma/ramnog/blob/HEAD/vignettes/methods_stat.Rmd" class="external-link"><code>vignettes/methods_stat.Rmd</code></a></small>
      <div class="d-none name"><code>methods_stat.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="statistical-method-types">Statistical method types<a class="anchor" aria-label="anchor" href="#statistical-method-types"></a>
</h2>
<p>The {chef} framework categorizes statistical functions into three
main categories depending on how they operate over stratification levels
and treatment levels. Operations can either be done once per
stratification level or treatment level, or they can operate across
levels.</p>
<p>Figure 1 below shows a typical table from a safety analysis and color
codes each result based on the function type that creates it:</p>
<div class="figure">
<img src="figures/StatisticsDescription.png" alt="Figure 1" width="100%"><p class="caption">
Figure 1
</p>
</div>
<p><br> Table 1 below provides a description of each of the three
function types, color coded to the outputs they produce in table 1
above:</p>
<table class="table table table-bordered table table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<caption>
Table 1
</caption>
<thead><tr>
<th style="text-align:left;color: white !important;background-color: rgba(44, 62, 80, 255) !important;">
Name
</th>
<th style="text-align:left;color: white !important;background-color: rgba(44, 62, 80, 255) !important;">
Description
</th>
<th style="text-align:left;color: white !important;background-color: rgba(44, 62, 80, 255) !important;">
Example function
</th>
<th style="text-align:left;color: white !important;background-color: rgba(44, 62, 80, 255) !important;">
Example application
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;font-weight: bold;">
<span style="     color: red !important;">stat_by_strata_and_trt</span>
</td>
<td style="text-align:left;">
One output per combination of strata level and treatment level <em>for
each strata type</em> (e.g. SEX, AGEGR, etc):
</td>
<td style="text-align:left;max-width: 10em; ">
<code>n_subj()</code> - Counts number of subjects in each stratification
level and treatment level
</td>
<td style="text-align:left;">
How many female subjects are in TreatmentA (<em>answer = 120</em>)
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
<span style="     color: green !important;">stat_by_strata_across_trt</span>
</td>
<td style="text-align:left;">
One output per strata level, across treatment levels <em>for each strata
type</em> (e.g. SEX, AGEGR, etc):
</td>
<td style="text-align:left;max-width: 10em; ">
<code>RR()</code> - Calculates the relative risk for the outcome/event
within a stratification level
</td>
<td style="text-align:left;">
What is the RR of having the outcome for females in Treatment A as
compared to females in Treatment B (<em>answer = 15</em>)
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
<span style="     color: blue !important;">stat_across_strata_across_trt</span>
</td>
<td style="text-align:left;">
One output per strata type (e.g. SEX, AGEGR, etc), across treatment
levels
</td>
<td style="text-align:left;max-width: 10em; ">
<code>p_val_interaction()</code> - Test of interaction effect for
stratification level
</td>
<td style="text-align:left;">
Is the risk of having the outcome different across the strata of SEX
</td>
</tr>
</tbody>
</table>
<p>The function type also determines when the function is applied. In
our example from figure 1, a
<code style="color: red;">stat_by_strata_by_trt</code> function will be
called once for each combination of stratification level and treatment
level, as well as once for TOTALS for each treatment level:</p>
<ol style="list-style-type: decimal">
<li>SEX == “MALE” &amp; TRT == “TreatmentA”</li>
<li>SEX == “FEMALE” &amp; TRT == “TreatmentA”</li>
<li>SEX == “MALE” &amp; TRT == “TreatmentB”</li>
<li>SEX == “FEMALE” &amp; TRT == “TreatmentB”</li>
<li>AGE == “&lt;65” &amp; TRT == “TreatmentA”</li>
<li>AGE == “&gt;=65” &amp; TRT == “TreatmentA”</li>
<li>AGE == “&lt;65” &amp; TRT == “TreatmentB”</li>
<li>AGE == “&gt;=65” &amp; TRT == “TreatmentB”</li>
<li>TOTAL_ == “total” &amp; TRT == “TreatmentA”</li>
<li>TOTAL_ == “total” &amp; TRT == “TreatmentB”</li>
</ol>
<p>Whereas a <code>stat_across_strata_across_trt</code> will only be
called once per stratification “group”, i.e.:</p>
<ol style="list-style-type: decimal">
<li>strata_var == “SEX”</li>
<li>strata_var == “AGE”</li>
</ol>
</div>
<div class="section level2">
<h2 id="project-specific-statistical-functions">Project-specific statistical functions<a class="anchor" aria-label="anchor" href="#project-specific-statistical-functions"></a>
</h2>
<p>If you need a statistical function that does not exist in
{chefStats}, we writing it and adding it the chefStats package, that way
it can be used by others - please see the documentation in the chefStats
package for more details.</p>
<p>But sometimes this might not make sense. In that case you can always
reference your own custom function in the endpoint specification stored
in the <code>R/</code> directory of your project folder.</p>
<p>For example you want a new function
<code>my_custom_stats_function</code> of type
<code style="color: red;">stat_by_strata_by_trt</code> . You first
define the function:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_custom_function</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span></span>
<span>    <span class="co"># function arguments here</span></span>
<span>  <span class="op">)</span><span class="op">{</span></span>
<span>  <span class="co"># Function does something here</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Then once it’s save to <code>R/</code>, you can reference it in the
endpoint specification just like <code>chefStats</code> functions:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">chef</span><span class="fu">::</span><span class="fu"><a href="https://hta-pharma.github.io/chef/reference/mk_endpoint_str.html" class="external-link">mk_endpoint_str</a></span><span class="op">(</span></span>
<span>  <span class="va">...</span>, <span class="co"># other arguments to mk_endpoint_str</span></span>
<span>  stat_by_strata_by_trt <span class="op">=</span> <span class="va">my_custom_function</span><span class="op">)</span></span></code></pre></div>
<p><strong>Important:</strong> if the custom function relies on any
external packages, you need to add those packages to the
<code>packages.R</code> file in <code>R/</code>.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Matthew David Phelps, Nicolai Skov Johnsen, Henrik Sparre Spiegelhauer, Christian Haargaard Olsen.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.8.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
