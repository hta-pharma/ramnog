<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="ramnog">
<title>Endpoint Events • ramnog</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Endpoint Events">
<meta property="og:description" content="ramnog">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">ramnog</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/ramnog.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Overview</h6>
    <a class="dropdown-item" href="../articles/ep_overview.html">Endpoint Specification</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Endpoint Population and Outcome Specification</h6>
    <a class="dropdown-item" href="../articles/ep_spec_adam_data.html">ADaM Data</a>
    <a class="dropdown-item" href="../articles/ep_spec_treatment_arms.html">Treatment Arms</a>
    <a class="dropdown-item" href="../articles/ep_spec_population_def.html">Analysis Population</a>
    <a class="dropdown-item" href="../articles/ep_spec_event_def.html">Endpoint Events</a>
    <a class="dropdown-item" href="../articles/ep_spec_strata_def.html">Strata</a>
    <a class="dropdown-item" href="../articles/ep_spec_label.html">Endpoint Label</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Endpoint Statistics</h6>
    <a class="dropdown-item" href="../articles/methods_criteria.html">Criteria Methods</a>
    <a class="dropdown-item" href="../articles/methods_stat.html">Statistical Methods</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Endpoint Results</h6>
    <a class="dropdown-item" href="../articles/results_datamodel.html">Result Data Model</a>
    <a class="dropdown-item" href="../articles/results_datamodel2tfl.html">Mapping Results to TFLs</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Endpoint Examples</h6>
    <a class="dropdown-item" href="../articles/example_ep_spec.html">Endpoint Catalog</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Debugging</h6>
    <a class="dropdown-item" href="../articles/debugging.html">Debugging</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Development</h6>
    <a class="dropdown-item" href="../articles/dev_git.html">Git Workflow</a>
    <a class="dropdown-item" href="../articles/validation.html">Quality control for ramnog ecosystem</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Endpoint Events</h1>
            
      
      
      <div class="d-none name"><code>ep_spec_event_def.Rmd</code></div>
    </div>

    
    
<!-- avoid border around images -->
<style>
    img {
        border: 0;
    }
</style>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>Events are the records in the analysis data that are defined as
‘positives’ in the context of the endpoint. For example, adverse events
of a certain type may be events for one endpoint, while for a
demographic endpoint all subjects in the analysis data (that comply to
the period filter) are events.</p>
<p>Since the events are bounded to the rows of the analysis data, the
entity of an event is not fixed. It depends on the analysis data. It may
e.g. be a set of visits, or measurements, or subjects.</p>
<p>For each endpoint the definition of an event is controlled via the
following endpoint specification parameters:</p>
<ul>
<li>
<strong>period_var</strong>: Name of the flag variable in the
analysis data set that indicates if the record is contained the required
time slot for being an event.</li>
<li>
<strong>period_value</strong>: The value of <code>period_var</code>
that indicates if the record is in the required time slot.</li>
<li>
<strong>endpoint_filter</strong>: An optional parameter that
contains a free text endpoint filter that adds to the period filter
defined by <code>period_var</code> and <code>period_value</code>.</li>
<li>
<strong>group_by</strong>: An optional parameter that splits the
analysis data in exclusive groups that each is injected to their own
endpoint. This adds to narrowing down the endpoint events as it
disregards any events outside the group specific to the endpoint.</li>
</ul>
<p>Let us investigate how each of these parameters affect the set of
events that are exposed to the endpoint.</p>
<p>Initially, the input data returned from <code>data_prepare</code> is
filtered to create the analysis data using the population filter c.f. <a href="ep_spec_population_def.html">Analysis population</a>. Next, the
endpoint <strong>events</strong> in the analysis data are identified
according to the filters above.</p>
<p>Within the endpoint itself, each <strong>cell</strong> in the
statistics also slices the analysis data by e.g. strata and treatment
arm combinations. The strata work independently of the event definition,
so within each strata there may be both event and non-events. See <a href="ep_spec_strata_def.html">Strata</a> for further details.</p>
<p>The illustrations below depict the four possible cases of combining
the event specification parameters.</p>
<p><img src="figures/endpoint_event.png" width="80%" style="display: block; margin: auto auto auto 0;"></p>
<p> </p>
<ul>
<li>
<strong>Case A</strong>: Only the period filter
(<code>period_value</code> and <code>period_var</code>) is applied in
which case all analysis data records that meet the period filter are
events.</li>
<li>
<strong>Case B</strong>: The period filter and the endpoint filter
are active.</li>
<li>
<strong>Case C</strong>: Same setup as in case A with the addition
of endpoint grouping so that the events are further restricted within
each group element. The case illustrates the setup for one of the group
levels (group 1).</li>
<li>
<strong>Case D</strong>: Same setup as in case B with the addition
of endpoint grouping so that the events are further restricted within
each group element. The case illustrates the setup for one of the group
levels (group 1).</li>
</ul>
</div>
<div class="section level2">
<h2 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h2>
<div class="section level6">
<h6 id="ex-4-1">Ex 4.1<a class="anchor" aria-label="anchor" href="#ex-4-1"></a>
</h6>
<p>Here are three examples of the syntax for supplying the period
filter, the endpoint filter and the endpoint grouping, respectively, in
the endpoint specification.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="co"># Example of partial endpoint specification with period filter</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>ep_spec_ex4_1_1  <span class="ot">&lt;-</span> chef<span class="sc">::</span><span class="fu">mk_endpoint_str</span>(<span class="at">period_var =</span> <span class="st">"ANL01FL"</span></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>                                   <span class="at">period_value =</span> <span class="st">"Y"</span>,</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>                                   ...)</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a><span class="co"># Example of partial endpoint specification with endpoint filtering</span></span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a>ep_spec_ex4_1_2  <span class="ot">&lt;-</span> chef<span class="sc">::</span><span class="fu">mk_endpoint_str</span>(<span class="at">endpoint_filter =</span> <span class="st">'ASEV == "MILD"'</span>,</span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a>                                   ...)</span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a><span class="co"># Example of partial endpoint specification with endpoint grouping</span></span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a>ep_spec_ex4_1_3  <span class="ot">&lt;-</span> chef<span class="sc">::</span><span class="fu">mk_endpoint_str</span>(<span class="at">group_by =</span></span>
<span id="cb1-12"><a href="#cb1-12" tabindex="-1"></a>                                     <span class="fu">list</span>(<span class="fu">list</span>(<span class="at">AESEV =</span> <span class="fu">c</span>(</span>
<span id="cb1-13"><a href="#cb1-13" tabindex="-1"></a>                                       <span class="st">"MILD"</span>, <span class="st">"MODERATE"</span>, <span class="st">"SERVERE"</span></span>
<span id="cb1-14"><a href="#cb1-14" tabindex="-1"></a>                                     ))),</span>
<span id="cb1-15"><a href="#cb1-15" tabindex="-1"></a>                                   ...)</span></code></pre></div>
</div>
<div class="section level6">
<h6 id="ex-4-2">Ex 4.2<a class="anchor" aria-label="anchor" href="#ex-4-2"></a>
</h6>
<p>You may also state the group levels in a lazy manner in which case
all group levels in the analysis data set is applied. This is useful if
you group by a variable with many levels e.g., system organ class (SOC),
or if you which to leave out certain group levels. Here is an example of
how to supply a lazy grouping of SOC.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Example of partial endpoint specification with lazy endpoint grouping</span></span>
<span><span class="va">ep_spec_ex4_2</span>  <span class="op">&lt;-</span> <span class="fu">chef</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/chef/man/mk_endpoint_str.html" class="external-link">mk_endpoint_str</a></span><span class="op">(</span>group_by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>AESOC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                                 <span class="va">...</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level6">
<h6 id="ex-4-3">Ex 4.3<a class="anchor" aria-label="anchor" href="#ex-4-3"></a>
</h6>
<p>In case you want to combine groups on multiple variables you can
state each dimension of the grouping in the <code>group_by</code>
parameter. This is useful for e.g., generating endpoint for each
combination of adverse event severity and SOC as exemplified below with
lazy grouping:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Example of partial endpoint specification with lazy endpoint grouping on multiple variables</span></span>
<span><span class="va">ep_spec_ex4_3</span>  <span class="op">&lt;-</span> <span class="fu">chef</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/chef/man/mk_endpoint_str.html" class="external-link">mk_endpoint_str</a></span><span class="op">(</span>group_by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>AESEV <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">)</span>, AESOC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                                 <span class="va">...</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level6">
<h6 id="ex-4-4">Ex 4.4<a class="anchor" aria-label="anchor" href="#ex-4-4"></a>
</h6>
<p>As a continuation of the previews example, if you are only interested
in mild adverse events you can replace the grouping by
<code>AESEV</code> by an endpoint filter that filters by
<code>AESEV</code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Example of partial endpoint specification with endpoint filter and lazy grouping</span></span>
<span><span class="va">ep_spec_ex4_4</span>  <span class="op">&lt;-</span> <span class="fu">chef</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/chef/man/mk_endpoint_str.html" class="external-link">mk_endpoint_str</a></span><span class="op">(</span>endpoint_filter <span class="op">=</span> <span class="st">'ASEV == "MILD"'</span>,</span>
<span>                                 group_by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>AESOC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                                 <span class="va">...</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by MEWP (Matthew David Phelps), NOSJ (Nicolai Skov Johnsen), HSPU (Henrik Sparre Spiegelhauer), CINO (Christian Haargaard Olsen).</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
